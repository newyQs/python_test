# 5 MySQL存储引擎和数据类型

## 5.1 MySQL存储引擎
**存储引擎**其实就是如何存储数据，如何为存储的数据建立索引和如何更新、查询数据等技术的实现方法。

在关系型数据库中数据是以表的形式存储的，所以存储引擎也可以称为表类型（即存储和操作此表的类型）。

在Oracle和SQL Server等数据库中只有一种存储引擎，所有数据存储管理机制都是一样的；而MySQL数据库提供了多种存储引擎。

### 5.1.1 查询支持的存储引擎
```sql
SHOW ENGINES;
SHOW ENGINES\g
SHOW ENGINES\G
```

### 5.1.2 查询默认的存储引擎
```sql
SHOW VARIABLES LIKE 'storage_engine%';
```

### 5.1.3 InnoDB存储引擎
+ InnoDB给Mysql的表提供了事务、回滚、崩溃修复能力和多版本并非控制的事务安全。
+ InnoDB是Mysql上第一个提供外键约束的表引擎。
+ InnoDB对事务的处理能力，是其他存储引擎无法比拟的。

关于自增列：
```text
InnoDB支持自增长列 AUTO INCREMENT。
自增长列的值不能为空，且值必须唯一。
Mysql规则自增列必须为主键。
在插入时，如果自增列不输入值，则插入的值为自动增长后的值，如果输入的值为0或空(NULL)，则插入的值也是自增后的值。
如果插入某个确定的值，且该值在前面没有出现过，则可以直接输入。
```
关于外键：
```text
InnoDB支持外键 FOREIGN KEY。
外键所在表为子表，外键所依赖的表为父表。
父表中被子表外键关联的字段必须是主键。
当删除、更新父表的某条信息时，子表也必须有相应的改变。
```
关于存储位置：
```text
InnoDB存储引擎中，创建的表的结构存储在.frm文件中。
数据和索引存储在innodb_data_home_dir和innodb_data_file_path表空间中。
```
关于优劣势：
```text
InnoDB存储引擎的优点在于提供了良好的事务管理、奔溃修复能力和并非控制。
缺点是其读写效率较差，占用的数据空间相对较大。
```

InnoDB是如下情况的理想引擎：
```text
1. 更新密集的表
2. 事务
3. 自动灾难恢复
```

### 5.1.4 MyISAM存储引擎

1. MyISAM存储引擎的文件类型


2. MyISAM存储引擎的存储格式


3. MyISAM存储引擎的优缺点

MyISAM存储引擎的优势在于占用空间小，处理速度快；缺点是不支持事务的完整性和并发性。


### 5.1.5 MEMORY存储引擎
MEMORY存储引擎是MySQL中的一类特殊存储引擎。其使用存储在内存中的内容来创建表，而且所有的数据也放在内存中。

1. MEMORY存储引擎的文件存储形式


2. MEMORY存储引擎的索引类型


3. MEMORY存储引擎的存储周期


4. MEMORY存储引擎的优缺点


### 5.1.6 如何选择合适的存储引擎


### 5.1.7 设置数据库的存储引擎


## 5.2 mysql数据类型

### 5.2.1 数字类型


### 5.2.2字符串类型


### 5.2.3日期和时间类型

