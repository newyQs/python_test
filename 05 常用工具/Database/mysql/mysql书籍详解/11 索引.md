# 11 索引

## 11.1 索引概述
在MYSQL中，索引由数据表中一列或者多列组合而成，创建索引的目的是为了优化数据库的查询速度。
其中，用户创建的索引指向数据库中具体数据的位置。
当用户通过索引查询数据库中的数据时，不需要遍历所有数据库中的所有数据，大幅度提高了查询效率。

### 11.1.1 索引概述
索引的优势和劣势：
```text

```

### 11.1.2 索引分类
1. 普通索引


2. 唯一性索引


3. 全文索引


4. 单列索引


5. 多列索引


6. 空间索引


## 11.2 创建索引
创建索引是指在某个表中至少一列中建立索引，以便提高数据库性能。


### 11.2.1 在创建数据表的时候创建索引
```sql
CREATE TABLE 数据表名(
  属性名 数据类型[约束条件],
  ...TABLE 
  [ UNIQUE | FULLTEXT | SPATIAL ] INDEX | KEY
  [ 别名 ] ( 属性名1 [(长度)] [ ASC |DESC ])
);
```
参数说明：


1. 普通索引创建
```sql
CREATE TABLE score(
  id INT(11) AUTO_INCREMENT PRIMARY KEY NOT NULL,
  name VARCHAR(50) NOT NULL,
  math INT(5) NOT NULL,
  english INT(5) NOT NULL,
  chines INT(5) NOT NULL,
  index(id)
);
```

2. 创建唯一性索引
```sql
CREATE TABLE address(
  id INT(11) AUTO_INCREMENT PRIMARY KEY NOT NULL,
  name VARCHAR(50) NOT NULL,
  address VARCHAR(200),
  UNIQUE INDEX address(id ASC)
);
```

3. 创建全文索引
```sql
CREATE TABLE cards(
  id INT(11) AUTO_INCREMENT PRIMARY KEY NOT NULL,
  name VARCHAR(50) NOT NULL,
  number BIGINT(11),
  info VARCHAR(50),
  FULLTEXT KEY cards_info(info)
)engine=MyISAM;
```

4. 创建单列索引
```sql
CREATE TABLE telephone(
  id INT(11) AUTO_INCREMENT PRIMARY KEY NOT NULL,
  name VARCHAR(50) NOT NULL,
  tel VARCHAR(50) NOT NULL,
  index tel_num(tel(20)) 
);
```

5. 创建多列索引
```sql
CREATE TABLE information(
  id INT(11) AUTO_INCREMENT PRIMARY KEY NOT NULL,
  name VARCHAR(50) NOT NULL,
  sex VARCHAR(5) NOT NULL,
  birthday VARCHAR(50) NOT NULL,
  INDEX info(name, sex)
);
```

6. 创建空间索引
```sql
CREATE TABLE list(
 id INT(11) AUTO_INCREMENT PRIMARY KEY NOT NULL,
 goods GEOMETRY NOT NULL,
 SPATIAL INDEX listinfo(goods)
)engine=MyISAM;
```

### 11.2.2 在已有的数据表中创建索引
在MYSQL中，可以在已经存在的表中，在已存在的一个或几个字段上创建索引：
```sql
CREATE [ UNIQUE | FULLTEXT | SPATIAL ] INDEX index_name
ON 表名(属性 [( LENGTH )] [ ASC | DESC ]);
```
1. 普通索引创建


2. 创建唯一性索引


3. 创建全文索引


4. 创建单列索引


5. 创建多列索引


6. 创建空间索引


### 11.2.3 修改数据表结构时候创建索引
修改已经存在的表的结构时，可以通过以下语句为数据表添加索引：
```sql
ALTER TABLE 表名 ADD [ UNIQUE | FULLTEXT | SPATIAL ] INDEX index_name(属性 [( LENGTH )] [ ASC | DESC ]);
```

1. 普通索引创建

如，在student_info表中添加名称为timer的普通索引：
```sql
ALTER TABLE student_info ADD INDEX timer(timer(20));
```

2. 创建唯一性索引



3. 创建全文索引


4. 创建单列索引


5. 创建多列索引


6. 创建空间索引


## 11.3 删除索引
在创建索引后，如果我们不在需要该索引，则可以删除指定表的索引。
因为这些已经被建立且不常使用的索引，一方面可能会占用系统资源，另一方面也可能导致更新速度下降，这极大的影响了数据表的性能。
我们需要手动去删除。
```sql
DROP INDEX index_name ON 表名;
```
