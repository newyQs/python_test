# 深入理解Python异步编程
asyncio模块提供了使用协程构建并发应用的工具。
它使用一种单线程单进程的的方式实现并发，应用的各个部分彼此合作, 可以显示的切换任务，
一般会在程序阻塞I/O操作的时候发生上下文切换如等待读写文件,或者请求网络。
同时asyncio也支持调度代码在将来的某个特定事件运行，从而支持一个协程等待另一个协程完成，以处理系统信号和识别其他一些事件。

## 异步并发的概念
对于其他的并发模型大多数采取的都是线性的方式编写。并且依赖于语言运行时系统或操作系统的底层线程或进程来适当地改变上下文，
而基于asyncio的应用要求应用代码显示的处理上下文切换。

asyncio提供的框架以事件循环(event loop)为中心，程序开启一个无限的循环，程序会把一些函数注册到事件循环上。
当满足事件发生的时候，调用相应的协程函数。

### 事件循环
事件循环是一种处理多并发量的有效方式，在维基百科中它被描述为「一种等待程序分配事件或消息的编程架构」，
我们可以定义事件循环来简化使用轮询方法来监控事件，通俗的说法就是「当A发生时，执行B」。事件循环利用poller对象，
使得程序员不用控制任务的添加、删除和事件的控制。事件循环使用回调方法来知道事件的发生。它是asyncio提供的「中央处理设备」，支持如下操作：

+ 注册、执行和取消延迟调用（超时）
+ 创建可用于多种类型的通信的服务端和客户端的Transports
+ 启动进程以及相关的和外部通信程序的Transports
+ 将耗时函数调用委托给一个线程池
+ 单线程（进程）的架构也避免的多线程（进程）修改可变状态的锁的问题。

与事件循环交互的应用要显示地注册将运行的代码，让事件循环在资源可用时向应用代码发出必要的调用。
如：一个套接字再没有更多的数据可以读取，那么服务器会把控制全交给事件循环。

### Future
future是一个数据结构，表示还未完成的工作结果。事件循环可以监视Future对象是否完成。
从而允许应用的一部分等待另一部分完成一些工作。

### Task
task是Future的一个子类，它知道如何包装和管理一个协程的执行。
任务所需的资源可用时，事件循环会调度任务允许，并生成一个结果，从而可以由其他协程消费。

## 异步方法

## 协程